# 🔐 Clerk Setup Guide for Next.js

This guide walks you through integrating [Clerk](https://clerk.dev) into your **Next.js** app for authentication.

---

## 📦 1. Install Clerk Packages

```bash
npm install @clerk/nextjs




// middleware.ts

create a route matcher
---

import { clerkMiddleware } from "@clerk/nextjs/server";
import { createRouteMatcher } from "@clerk/nextjs/server";

const isPublicRoute = createRouteMatcher([
  "/",
  "/sign-in(.*)",
  "/sign-up(.*)",
]);



export default clerkMiddleware((auth, req) => {
  if (isPublicRoute(req)) return;
  auth().protect();
});

export const config = {
  matcher: [
    // Skip Next.js internals and all static files, unless found in search params
    '/((?!_next|[^?]*\\.(?:html?|css|js(?!on)|jpe?g|webp|png|gif|svg|ttf|woff2?|ico|csv|docx?|xlsx?|zip|webmanifest)).*)',
    // Always run for API routes
    '/(api|trpc)(.*)',
  ],
};
```

--- app/layout.tsx
// app/layout.tsx
import { ClerkProvider } from "@clerk/nextjs";
import { Inter } from "next/font/google";

const inter = Inter({ subsets: ["latin"] });

export const metadata = {
title: "Your App",
description: "Generated by Clerk + Next.js",
};

export default function RootLayout({
children,
}: {
children: React.ReactNode;
}) {
return (
<ClerkProvider>

<html lang="en">
<body className={inter.className}>{children}</body>
</html>
</ClerkProvider>
);
}

Create the following routes:

/app/sign-in/[[...index]]/page.tsx
tsx
Copy
Edit
import { SignIn } from "@clerk/nextjs";

export default function Page() {
return <SignIn />;
}
/app/sign-up/[[...index]]/page.tsx
tsx
Copy
Edit
import { SignUp } from "@clerk/nextjs";

export default function Page() {
return <SignUp />;
}
✅ 7. Use Auth Hooks in Pages
tsx
Copy
Edit
import { useUser } from "@clerk/nextjs";

export default function Dashboard() {
const { user } = useUser();

return <div>Hello, {user?.firstName}!</div>;
}
